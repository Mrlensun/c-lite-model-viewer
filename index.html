<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lite Model-Viewer</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@cloudfour/patterns@16.3.1/dist/standalone.min.css"
    />
    <link
      rel="icon"
      href="https://cdn.jsdelivr.net/npm/@cloudfour/patterns@16.3.1/src/assets/favicons/favicon.ico"
    />
    <style>
      .style-demo .progress-bar {
        background-color: rgb(0 0 0 / 0.5);
        border: 1px solid rgb(255 255 255 / 0.9);
        border-radius: 25px;
        box-shadow: 0 3px 10px 3px rgb(0 0 0 / 0.5),
          0 0 5px 1px rgb(0 0 0 / 0.6);
        display: block;
        height: 10%;
        left: 50%;
        max-height: 2%;
        position: absolute;
        top: 50%;
        transform: translate3d(-50%, -50%, 0);
        width: 33%;
      }

      .style-demo .is-loaded .progress-bar {
        transition: visibility 0.3s;
        visibility: hidden;
      }

      .style-demo .update-bar {
        background-color: rgb(255 255 255 / 0.9);
        border-radius: 25px;
        float: left;
        height: 100%;
        transform: scaleX(var(--progress, 0));
        transform-origin: left;
        transition: transform 0.3s;
        width: 100%;
      }

      .style-demo button {
        background-color: #fff;
        border: 1px solid #dadce0;
        border-radius: 18px;
        color: #4285f4;
        font-family: "Roboto Regular", "Helvetica Neue", sans-serif;
        font-size: 14px;
        height: 36px;
        line-height: 36px;
        padding: 0 16px;
        white-space: nowrap;
      }

      .style-demo button:active {
        background-color: #e8eaed;
      }

      .style-demo button:focus {
        outline: none;
      }

      .style-demo button:focus-visible {
        outline: 1px solid #4285f4;
      }

      .style-demo #ar-button {
        background-image: url("https://cloudfour.com/wp-content/uploads/2023/11/ar_icon.png");
        background-position: 12px 50%;
        background-repeat: no-repeat;
        background-size: 20px 20px;
        bottom: 16px;
        left: 50%;
        padding-left: 40px;
        position: absolute;
        transform: translateX(-50%);
      }
    </style>
  </head>
  <body>
    <div class="o-container o-container--prose o-container--pad">
      <div class="o-container__content o-rhythm">
        <h1>Lite Model-Viewer</h1>

        <p class="u-text-small">
          Return to the
          <a href="https://github.com/cloudfour/lite-model-viewer"
            >GitHub repo</a
          >.
        </p>

        <p>
          Lite Model-Viewer is a web component to lazy-load
          <code>&lt;model-viewer&gt;</code> for improved performance.
        </p>

        <p>
          The <code>&lt;lite-model-viewer&gt;</code> web component accepts all
          the same attributes as <code>&lt;model-viewer&gt;</code>, and will
          display a poster image if provided. When
          <code>&lt;lite-model-viewer&gt;</code> is clicked, it will inject the
          <code>&lt;model-viewer&gt;</code> element into the page, which will
          immediately activate and load the 3D file.
        </p>

        <p>
          By default, Lite Model-Viewer is unopinionated and largely unstyled.
          It will use the width and height you provide, and scale the poster
          image to fit. Any content, such as a "View Model" button, will be
          centered over the poster image. It will use the default progress
          indicator, a simple loading bar along the top.
        </p>

        <p>(View source to see code for these demos.)</p>

        <lite-model-viewer
          src="https://assets.codepen.io/62127/testing-3d_v0pprz.glb"
          poster="https://cloudfour.com/wp-content/uploads/2023/11/testing-3d.webp"
          ar
          camera-controls
          shadow-intensity="1"
        >
          <button>View Model</button>
        </lite-model-viewer>

        <p>
          You can use a <code>&lt;template&gt;</code> element to provide custom
          markup for a
          <a
            href="https://modelviewer.dev/docs/index.html#entrydocs-loading-slots-progressBar"
            >progress bar</a
          >
          and
          <a
            href="https://modelviewer.dev/docs/index.html#entrydocs-augmentedreality-slots-arButton"
            >AR button</a
          >, and style them as you see fit.
        </p>

        <lite-model-viewer
          class="style-demo"
          src="https://assets.codepen.io/62127/testing-3d_v0pprz.glb"
          poster="https://cloudfour.com/wp-content/uploads/2023/11/testing-3d.webp"
          ar
          camera-controls
          shadow-intensity="1"
        >
          <template>
            <div class="progress-bar" slot="progress-bar">
              <div class="update-bar"></div>
            </div>
            <button slot="ar-button" id="ar-button">View in your space</button>
          </template>
          <button>View Model</button>
        </lite-model-viewer>

        <p>
          This demo adds custom elements for android users to improve their
          experience. (<a
            href="https://modelviewer.dev/examples/augmentedreality/#webXR"
            >Learn more</a
          >)
        </p>

        <lite-model-viewer
          class="style-demo"
          src="https://assets.codepen.io/62127/testing-3d_v0pprz.glb"
          poster="https://cloudfour.com/wp-content/uploads/2023/11/testing-3d.webp"
          ar
          camera-controls
          shadow-intensity="1"
        >
          <template>
            <div class="progress-bar" slot="progress-bar">
              <div class="update-bar"></div>
            </div>
            <button slot="ar-button" id="ar-button">View in your space</button>
            <div id="ar-prompt">
              <img
                src="https://cloudfour.com/wp-content/uploads/2023/11/ar_hand_prompt.png"
              />
            </div>
            <style>
              /* @see https://modelviewer.dev/examples/augmentedreality/ */
              /* prettier-ignore */
              @keyframes circle {
            from {
              transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg);
            }
            to {
              transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg);
            }
          }
              @keyframes elongate {
                from {
                  transform: translateX(100px);
                }
                to {
                  transform: translateX(-100px);
                }
              }
              model-viewer > #ar-prompt {
                animation: elongate 2s infinite ease-in-out alternate;
                bottom: 60px;
                display: none;
                left: 50%;
                position: absolute;
              }
              model-viewer[ar-status="session-started"] > #ar-prompt {
                display: block;
              }
              model-viewer > #ar-prompt > img {
                animation: circle 4s linear infinite;
              }
            </style>
          </template>
          <button>View Model</button>
        </lite-model-viewer>

        <p class="u-text-small">
          Return to the
          <a href="https://github.com/cloudfour/lite-model-viewer"
            >GitHub repo</a
          >.
        </p>
      </div>
    </div>

    <script type="module" src="lite-model-viewer.js"></script>
  </body>
</html>
